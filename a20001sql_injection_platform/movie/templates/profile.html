<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PowerPoint-Recommandation machine learning </title>

    <!-- Bootstrap core CSS -->
    <style type="text/css">
#tbl_div div {
  visibility:hidden;
    display:none;
}

div[name*="title"] {
/*  background: #ffff00;*/
  font-weight: bold;
  font-size: 150%;
  text-align: center;
}

div[class*="release_year"] {
/*  background: #ffff00;*/
  color:blue;
  font-weight: bold;
  font-size: 90%;
  text-align: center;
}



    </style>
    <link rel='stylesheet' href='/static/bootstrap-4.5.2-dist/css/bootstrap.min.css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>

<bddy>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">

  <button class="navbar-toggler" type="button" data-toggle="collapse" 
  data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
         {% if session['isadmin'] %}
        <a class="nav-link" href="/home/1">back to Home <span class="sr-only">(current)</span></a>
         {% else %}

       {% endif %}

      </li>

      <li class="nav-item active">
        <form class="form-inline my-2 my-lg-0 navbar-right" action="/home" method="POST">

                <div class="form-group">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <input type="text" name="keyword" placeholder="search" class="form-control" autofocus>&nbsp;
                </div>
          
              <input type="submit" value="Search" class="btn btn-success">
        </form>
      </li>

      <li class="nav-item active">

      </li>


    </ul>

  </div>
</nav>


  </body>
</html>

<!-- <h3><a href="/home">< Back to Home </a></h3> -->
<h1>My Profile</h1>

<table class="table">
    <thead>
        <tr>

            <th>profle 属性</th>
            <th>profle 属性值</th>
        <tr>
    </thead>
    <tbody>

        <tr>

            <td>(不可变更项)email/phone:</td>
            <td>{{user.username}}</td>
        </tr>
        <tr>

            <td>昵称:</td>
            <td>{{user.nickname}}</td>
        </tr>
        <tr>

            <td>学校班级：</td>
            <td>{{user.school_class}}</td>
        </tr>
        <tr>

            <td>学校年纪:</td>
            <td>{{user.school_grade}}</td>
        </tr>
        <tr>

            <td>密码:</td>
            <td>{{user.password}}</td>
        </tr>
    </tbody>
</table>

<div>
    
<!--     
    <h3>(not changeable)email/phone: {{user.username}}</h3>
    <h3>name: {{user.nickname}}</h3>
    <h3>school class: {{user.school_class}}</h3>
    <h3>school grade: {{user.school_grade}}</h3>
    <p>password: {{user.password}}</p> -->
    <br/>
    <a href="/profiles/update/{{user.id}}" id="{{user.id}}">更新</a>
</div>

<!-- 先引入jquery，下面要用到-->
<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<!--发送ajax请求删除课程 -->
<script type="text/javascript">
    $('a.btn-delete').on('click',function(evt){
        // 通知浏览器不要执行与事件关联的默认动作
        evt.preventDefault();
        // 获取课程ID
        var userid = $(this).attr('id');
        $.ajax({
            // 请求URL
            url: "/profiles/" + userid,
            // 请求方法类型
            type: "DELETE",
            contentType:"application/json",
            // 删除成功响应函数
            success:function(resp){
                // 在当前页面打开课程列表页面
                window.open("/profiles","_self");
            },
            // 删除失败响应函数
            error:function(resp){
                // 删除失败，给出错误提示
                alert("删除课程失败！详情：" + resp.message);
            }
        })
    });
</script>
